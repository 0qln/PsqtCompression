var change_Points,get_Points;function mdf(c,g){change_Points=c;get_Points=g}function getTrueOffsetLeft(A){var B=0;while(A){B+=A.offsetLeft||0;A=A.offsetParent}return B}function getTrueOffsetTop(A){var B=0;while(A){B+=A.offsetTop||0;A=A.offsetParent}return B}function dist(A,B,C,D){return Math.abs(C-A)+Math.abs(D-B)}function getMouse(e){if(canvas==null)return null;const A=e.clientX-getTrueOffsetLeft(canvas)+window.pageXOffset,B=e.clientY-getTrueOffsetTop(canvas)+window.pageYOffset;if(A<0||A>canvas.width||B<0||B>canvas.height){return null}return[Math.min(canvas.width-3,Math.max(3,A)),Math.min(canvas.height-3,Math.max(3,B))]}function nearestPoint(x,y,A){for(var B=0;B<A.length;++B){if(A[B]&&dist(x,y,screenx(A[B]),screeny(A[B]))<13)return B}return-1}function dragOnMouseDown(e){var A=getMouse(e);if(A===null)return;const B=get_Points==undefined?_getPoints():get_Points();if(B===null||B[0]===null)return;const C=nearestPoint(A[0],A[1],B);if(C>=0){var D=change_Points==undefined?_changePoints:change_Points;document.onmousemove=function(e){A=getMouse(e);if(!A)return;B[C].x=worldx(A[0]);B[C].y=worldy(A[1]);D(C,B)};document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null;D(-1)}}}document.onmousedown=dragOnMouseDown;
