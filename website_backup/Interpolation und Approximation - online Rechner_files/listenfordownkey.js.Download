function focusNext(A,B){const C=document.getElementsByTagName('input');for(var D=0;D<C.length;++D){if(C[D].id==A&&C[D+1]){if(B&&C[D+1].readOnly)return;C[D+1].focus();break}}}function getCaretPosition(A){var B=-1;if(document.activeElement!=document.getElementById(A.id))return-1;if(document.selection){A.focus();var C=document.selection.createRange();C.moveStart('character',-A.value.length);B=C.text.length}else if(A.selectionStart||A.selectionStart=='0')B=A.selectionStart;return B}document.addEventListener("keydown",listenForDown);function listenForDown(e){if(e.keyCode!=37&&e.keyCode!=39&&e.keyCode!=38&&e.keyCode!=40&&e.keyCode!=13)return !0;const A=e.target||e.srcElement,B=A.id;var C,D,E,F;for(F=1;F<B.length;++F){const G=B.charAt(F);if('0'<=G&&G<='9')break}if(F>=B.length)return !0;const H=B.indexOf('_');if(H>0){D=+B.substring(F,H);C=+B.substring(H+1)}else{D=+B.substring(F);C=0}switch(e.keyCode){case 37:E=document.getElementById(B);if(E.type!='text'||(C>0&&getCaretPosition(E)==0))--C;else return !1;break;case 39:E=document.getElementById(B);if(E.type!='text'||getCaretPosition(E)>=E.value.length)++C;else return !1;break;case 38:--D;break;case 40:++D;break;case 13:focusNext(B,!0);return !1;default:return !0}var I=B.substring(0,F)+D;if(H>0)I+='_'+C;for(;;){if(document.getElementById(I))document.getElementById(I).focus();else if(H>0&&C>1){--C;I=B.substring(0,F)+D+'_'+C;continue}break}return !1}function makeID(A,B,C){return C!=undefined?A+B+"_"+C:A+B}
